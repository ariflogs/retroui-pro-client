import{r as i,j as n,s as L,P as O,v as P,x as H,z as j,w,_ as G,i as K,g as U,k as V}from"./main-iiZPEbsr.js";import{u as X}from"./index-DpZ-wiM2.js";var E="Checkbox",[$]=L(E),[J,y]=$(E);function Q(t){const{__scopeCheckbox:s,checked:r,children:d,defaultChecked:a,disabled:e,form:h,name:p,onCheckedChange:u,required:k,value:C="on",internal_do_not_use_render:l}=t,[f,v]=H({prop:r,defaultProp:a??!1,onChange:u,caller:E}),[m,x]=i.useState(null),[g,o]=i.useState(null),c=i.useRef(!1),_=m?!!h||!!m.closest("form"):!0,R={checked:f,disabled:e,setChecked:v,control:m,setControl:x,name:p,form:h,value:C,hasConsumerStoppedPropagationRef:c,required:k,defaultChecked:b(a)?!1:a,isFormControl:_,bubbleInput:g,setBubbleInput:o};return n.jsx(J,{scope:s,...R,children:W(l)?l(R):d})}var N="CheckboxTrigger",S=i.forwardRef(({__scopeCheckbox:t,onKeyDown:s,onClick:r,...d},a)=>{const{control:e,value:h,disabled:p,checked:u,required:k,setControl:C,setChecked:l,hasConsumerStoppedPropagationRef:f,isFormControl:v,bubbleInput:m}=y(N,t),x=j(a,C),g=i.useRef(u);return i.useEffect(()=>{const o=e==null?void 0:e.form;if(o){const c=()=>l(g.current);return o.addEventListener("reset",c),()=>o.removeEventListener("reset",c)}},[e,l]),n.jsx(P.button,{type:"button",role:"checkbox","aria-checked":b(u)?"mixed":u,"aria-required":k,"data-state":A(u),"data-disabled":p?"":void 0,disabled:p,value:h,...d,ref:x,onKeyDown:w(s,o=>{o.key==="Enter"&&o.preventDefault()}),onClick:w(r,o=>{l(c=>b(c)?!0:!c),m&&v&&(f.current=o.isPropagationStopped(),f.current||o.stopPropagation())})})});S.displayName=N;var B=i.forwardRef((t,s)=>{const{__scopeCheckbox:r,name:d,checked:a,defaultChecked:e,required:h,disabled:p,value:u,onCheckedChange:k,form:C,...l}=t;return n.jsx(Q,{__scopeCheckbox:r,checked:a,defaultChecked:e,disabled:p,required:h,onCheckedChange:k,name:d,form:C,value:u,internal_do_not_use_render:({isFormControl:f})=>n.jsxs(n.Fragment,{children:[n.jsx(S,{...l,ref:s,__scopeCheckbox:r}),f&&n.jsx(z,{__scopeCheckbox:r})]})})});B.displayName=E;var M="CheckboxIndicator",T=i.forwardRef((t,s)=>{const{__scopeCheckbox:r,forceMount:d,...a}=t,e=y(M,r);return n.jsx(O,{present:d||b(e.checked)||e.checked===!0,children:n.jsx(P.span,{"data-state":A(e.checked),"data-disabled":e.disabled?"":void 0,...a,ref:s,style:{pointerEvents:"none",...t.style}})})});T.displayName=M;var q="CheckboxBubbleInput",z=i.forwardRef(({__scopeCheckbox:t,...s},r)=>{const{control:d,hasConsumerStoppedPropagationRef:a,checked:e,defaultChecked:h,required:p,disabled:u,name:k,value:C,form:l,bubbleInput:f,setBubbleInput:v}=y(q,t),m=j(r,v),x=X(e),g=G(d);i.useEffect(()=>{const c=f;if(!c)return;const _=window.HTMLInputElement.prototype,I=Object.getOwnPropertyDescriptor(_,"checked").set,D=!a.current;if(x!==e&&I){const F=new Event("click",{bubbles:D});c.indeterminate=b(e),I.call(c,b(e)?!1:e),c.dispatchEvent(F)}},[f,x,e,a]);const o=i.useRef(b(e)?!1:e);return n.jsx(P.input,{type:"checkbox","aria-hidden":!0,defaultChecked:h??o.current,required:p,disabled:u,name:k,value:C,form:l,...s,tabIndex:-1,ref:m,style:{...s.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});z.displayName=q;function W(t){return typeof t=="function"}function b(t){return t==="indeterminate"}function A(t){return b(t)?"indeterminate":t?"checked":"unchecked"}const Y=V("border-black border-2",{variants:{variant:{default:"data-[state=checked]:bg-primary",outline:"",solid:"data-[state=checked]:bg-black *:text-white"},size:{sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"}},defaultVariants:{variant:"default",size:"md"}}),te=({className:t,size:s,variant:r,...d})=>n.jsx(B,{className:K(Y({size:s,variant:r}),t),...d,children:n.jsx(T,{className:"h-full w-full",children:n.jsx(U,{className:"h-full w-full"})})});export{te as C};
