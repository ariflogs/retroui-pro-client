import{S as N,r as s,j as i,s as j,v,V as C,A as f,i as m}from"./main-iiZPEbsr.js";var k=N();function _(){return k.useSyncExternalStore(F,()=>!0,()=>!1)}function F(){return()=>{}}var g="Avatar",[M]=j(g),[P,S]=M(g),x=s.forwardRef((a,e)=>{const{__scopeAvatar:r,...n}=a,[o,t]=s.useState("idle");return i.jsx(P,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:t,children:i.jsx(v.span,{...n,ref:e})})});x.displayName=g;var L="AvatarImage",w=s.forwardRef((a,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:o=()=>{},...t}=a,u=S(L,r),d=T(n,t),l=C(c=>{o(c),u.onImageLoadingStatusChange(c)});return f(()=>{d!=="idle"&&l(d)},[d,l]),d==="loaded"?i.jsx(v.img,{...t,ref:e,src:n}):null});w.displayName=L;var b="AvatarFallback",h=s.forwardRef((a,e)=>{const{__scopeAvatar:r,delayMs:n,...o}=a,t=S(b,r),[u,d]=s.useState(n===void 0);return s.useEffect(()=>{if(n!==void 0){const l=window.setTimeout(()=>d(!0),n);return()=>window.clearTimeout(l)}},[n]),u&&t.imageLoadingStatus!=="loaded"?i.jsx(v.span,{...o,ref:e}):null});h.displayName=b;function p(a,e){return a?e?(a.src!==e&&(a.src=e),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}function T(a,{referrerPolicy:e,crossOrigin:r}){const n=_(),o=s.useRef(null),t=n?(o.current||(o.current=new window.Image),o.current):null,[u,d]=s.useState(()=>p(t,a));return f(()=>{d(p(t,a))},[t,a]),f(()=>{const l=y=>()=>{d(y)};if(!t)return;const c=l("loaded"),A=l("error");return t.addEventListener("load",c),t.addEventListener("error",A),e&&(t.referrerPolicy=e),typeof r=="string"&&(t.crossOrigin=r),()=>{t.removeEventListener("load",c),t.removeEventListener("error",A)}},[t,r,e]),u}var $=x,q=w,H=h;const E=s.forwardRef(({className:a,...e},r)=>i.jsx($,{ref:r,className:m("relative flex h-14 w-14 border-2 border-black rounded-full overflow-hidden",a),...e}));E.displayName="Avatar";const I=s.forwardRef(({className:a,...e},r)=>i.jsx(q,{ref:r,className:m("aspect-square h-full w-full",a),...e}));I.displayName="Avatar.Image";const R=s.forwardRef(({className:a,...e},r)=>i.jsx(H,{ref:r,className:m("flex h-full w-full items-center justify-center rounded-full bg-primary",a),...e}));R.displayName="Avatar.Fallback";const B=Object.assign(E,{Image:I,Fallback:R});export{B as A};
